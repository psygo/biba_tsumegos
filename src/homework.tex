\documentclass[12pt]{book}

% A4
\usepackage[
  paperheight   = 297mm, 
  paperwidth    = 210mm,
  bindingoffset = 10mm,
  left          = 7.5mm,
  right         = 12.5mm,
  top           = 20mm,
  bottom        = 15mm,
  footskip      = 5mm,
]{geometry}

\usepackage{config}

\newcommand\problemDiagramDia[1]{
  \begin{goban}[board dimension       = 9,
                board size            = 19,
                scale                 = 1,
                outline line width    = 0.55mm,
                horizontal clip start = 8,
                horizontal clip end   = 19,
                vertical clip start   = 9,
                vertical clip end     = 19]
    \parseSgfFile{#1}
  \end{goban}
}

\newcommand\problemRow[3]{
  \begin{figure}
    \begin{minipage}[c]{0.3\linewidth}
      \problemDiagramDia{#1}
    \end{minipage}\hfill
    \begin{minipage}[c]{0.3\linewidth}
      \problemDiagramDia{#2}
    \end{minipage}\hfill
    \begin{minipage}[c]{0.3\linewidth}
      \problemDiagramDia{#3}
    \end{minipage}
  \end{figure}
}

\newcommand\problemRowTwo[2]{
  \begin{figure}
    \begin{minipage}[c]{0.3\linewidth}
      \problemDiagramDia{#1}
    \end{minipage}\hfill
    \begin{minipage}[c]{0.3\linewidth}
      \centering
      \Huge\textbf{BIBA}
      \normalsize%
    \end{minipage}\hfill
    \begin{minipage}[c]{0.3\linewidth}
      \problemDiagramDia{#2}
    \end{minipage}
  \end{figure}
}

\pgfkeys{%
  /phili/problemPage/.cd, 
    problem 1/.store in  = \problemOne,
    problem 1            = One,
    problem 2/.store in  = \problemTwo,
    problem 2            = 2,
    problem 3/.store in  = \problemThree,
    problem 3            = 3,
    problem 4/.store in  = \problemFour,
    problem 4            = 4,
    problem 5/.store in  = \problemFive,
    problem 5            = 5,
    problem 6/.store in  = \problemSix,
    problem 6            = 6,
    problem 7/.store in  = \problemSeven,
    problem 7            = 7,
    problem 8/.store in  = \problemEight,
    problem 8            = 8,
    problem 9/.store in  = \problemNine,
    problem 9            = 9,
    problem 10/.store in  = \problemTen,
    problem 10            = 10,
    problem 11/.store in  = \problemEleven,
    problem 11            = 11,
}

\newcommand\problemPage[1][]{
  \pgfkeys{/phili/problemPage/.cd, #1}

  \problemRow{\problemOne}{\problemTwo}{\problemThree}
  \problemRow{\problemFour}{\problemFive}{\problemSix}
  \problemRow{\problemSeven}{\problemEight}{\problemNine}
  \problemRowTwo{\problemTen}{\problemEleven}
}

\def\sgfPath{sgf/birthday/}

\begin{document}
  \vfill
  \vspace*{0.5cm}

  \begin{center}
    \hspace{0.5cm}
    \begin{goban}[board dimension       = 16.675,
                  board size            = 19,
                  scale                 = 1,
                  outline line width    = 0.55mm,
                  horizontal clip start = 1,
                  horizontal clip end   = 19,
                  vertical clip start   = 1,
                  vertical clip end     = 19]
      \parseSgfFile{sgf/birthday/main_problem.sgf}
    \end{goban}
  \end{center}

  \vspace*{0.5cm}

  \centering
  \Huge Happy Birthday, Philippe!

  \vfill

  \clearpage

  \problemPage[%
    problem 1  = \sgfPath/problem_1.sgf,
    problem 2  = \sgfPath/problem_2.sgf,
    problem 3  = \sgfPath/problem_3.sgf,
    problem 4  = \sgfPath/problem_4.sgf,
    problem 5  = \sgfPath/problem_5.sgf,
    problem 6  = \sgfPath/problem_6.sgf,
    problem 7  = \sgfPath/problem_7.sgf,
    problem 8  = \sgfPath/problem_8.sgf,
    problem 9  = \sgfPath/problem_9.sgf,
    problem 10 = \sgfPath/problem_10.sgf,
    problem 11 = \sgfPath/problem_11.sgf,
  ]
  \problemPage[%
    problem 1  = \sgfPath/problem_12.sgf,
    problem 2  = \sgfPath/problem_13.sgf,
    problem 3  = \sgfPath/problem_14.sgf,
    problem 4  = \sgfPath/problem_15.sgf,
    problem 5  = \sgfPath/problem_16.sgf,
    problem 6  = \sgfPath/problem_17.sgf,
    problem 7  = \sgfPath/problem_18.sgf,
    problem 8  = \sgfPath/problem_19.sgf,
    problem 9  = \sgfPath/problem_20.sgf,
    problem 10 = \sgfPath/problem_21.sgf,
    problem 11 = \sgfPath/problem_22.sgf,
  ]
  \problemPage[%
    problem 1  = \sgfPath/problem_23.sgf,
    problem 2  = \sgfPath/problem_24.sgf,
    problem 3  = \sgfPath/problem_25.sgf,
    problem 4  = \sgfPath/problem_26.sgf,
    problem 5  = \sgfPath/problem_27.sgf,
    problem 6  = \sgfPath/problem_28.sgf,
    problem 7  = \sgfPath/problem_29.sgf,
    problem 8  = \sgfPath/problem_30.sgf,
    problem 9  = \sgfPath/problem_31.sgf,
    problem 10 = \sgfPath/problem_32.sgf,
    problem 11 = \sgfPath/problem_33.sgf,
  ]
\end{document}