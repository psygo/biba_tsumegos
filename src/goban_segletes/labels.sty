\newcommand\StoneColor[1]{%
  \ifcsname thecolorat#1\endcsname
    \csname thecolorat#1\endcsname
  \else
    white%
  \fi
}

\newcommand{\textLabel}[3]{
  \setCoords{#2}

  \draw (\x * \step, \y * \step) 
    node[
      color     = -\StoneColor{#2},
      fill      = \StoneColor{#2},
      inner sep = 1pt,
      font      = \small\sffamily
    ] {#3};
}

\newcommand{\crossLabel}[2]{
  \setCoords{#2}

  \draw (\x * \step, \y * \step) 
    node[
      color     = -\StoneColor{#2},
      fill      = \StoneColor{#2},
      inner sep = 1pt
    ] {$\times$};
}

\newcommand{\triangleLabel}[2]{
  \setCoords{#2}
  
  \draw (\x * \step, \y * \step) [
    fill      = \StoneColor{#2},
    draw      = \StoneColor{#2},
    inner sep = 0pt,
  ] circle [radius = \stoneRadius * 0.85cm];

  % Shift the triangle label down a bit
  \draw (\x * \step, \y * \step) 
    node[
      isosceles triangle,
      draw                          = #1,
      line width                    = 0.35mm,
      color                         = -\StoneColor{#2},
      fill                          = \StoneColor{#2},
      minimum height                = \stoneRadius * 0.85cm,
      minimum width                 = \stoneRadius * 0.85cm,
      rotate                        = 90,
      isosceles triangle apex angle = 60,
      inner sep                     = 0pt,
    ] {};
}

\newcommand{\squareLabel}[2]{
  \setCoords{#2}

  \draw (\x * \step, \y * \step) 
    node[
      draw         = #1,
      line width   = 0.5mm,
      color        = -\StoneColor{#2},
      fill         = -\StoneColor{#2},
      minimum size = \step * 10,
      inner sep    = 0pt,
    ] {};
}

\newcommand{\circleLabel}[2]{
  \setCoords{#2}

  \draw[
    draw         = #1,
    line width   = 0.5mm,
    color        = -\StoneColor{#2},
    fill         = -\StoneColor{#2},
    inner sep    = 0pt,
  ] (\x * \step, \y * \step) 
    circle[radius = \step / 4];
}
